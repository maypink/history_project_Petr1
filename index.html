<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Example Google API Service</title>

    <link rel="stylesheet" href="./css/outline.css">
</head>

<body>
    <div id="map"></div>

    <div class="open">
        gdhgfgd
    </div>

    <div class="popup__bg">
        <div class="popup">
            <div class="images">
                <div class="gallery"></div>
            </div>
            <span class="name">
            </span>
            <div class="info">
                <span class="location">
                </span>
                <span class="type_of_monument">
                </span>
                <span class="status">
                </span>
            </div>
            <div class="description">
            </div>
        </div>
    </div>

    <script>
        function setValue(selector, value) {
            let elem = document.querySelector(selector);
            if (value === "") {
                elem.style.display = "none";
            } else {
                elem.style.display = "inline";
            }
            elem.innerHTML = value
        }

        async function getInfo() {
            let entity = await (await fetch('1441.json')).json();
            let name = entity.name
            let location = entity.location
            let type = entity.type
            let status = entity.status
            let description = entity.description
            let imageURLs = entity.imageURLs

            let images = document.querySelector('.gallery');

            imageURLs.reverse().forEach(url => {
                let img = document.createElement("img");
                img.setAttribute("src", url);
                img.setAttribute("class", "image_inserted");
                img.setAttribute("alt", "");
                images.appendChild(img);
            });

            setValue('.name', name);
            setValue('.location', location);
            setValue('.type_of_monument', type);
            setValue('.status', status);
            setValue('.description', description);
        }

        let popupBg = document.querySelector('.popup__bg');
        let popup = document.querySelector('.popup');
        let open = document.querySelector('.open');

        open.addEventListener('click', (e) => {
            e.preventDefault();

            getInfo()

            popupBg.classList.add('active');
            popup.classList.add('active');
        });

        document.addEventListener('click', (e) => {
            if (e.target === popupBg) {
                popupBg.classList.remove('active');
                popup.classList.remove('active');
            }
        });
    </script>

    <!-- <script async src="http://maps.google.com/maps/api/js?key=AIzaSyCi_Dta09ugktmpXLhzngggWadCPvkkP5A&callback=initMap">
    </script> -->

    <script src="./js/index.js"></script>
</body>

</html>